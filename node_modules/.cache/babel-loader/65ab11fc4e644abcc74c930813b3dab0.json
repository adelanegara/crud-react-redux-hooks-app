{"ast":null,"code":"var _jsxFileName = \"/Users/adelanegaraputri/crud-react-redux-hooks-app/src/components/Home/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useContext } from \"react\";\nimport { GlobalContext } from \"../../Context/GlobalState\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Home = () => {\n  _s();\n\n  const {\n    photos,\n    deletePhotos,\n    addPhotos,\n    updatePhotos,\n    userData\n  } = useContext(GlobalContext);\n  const [filterData, setFilterData] = useState([]);\n  const navigate = useNavigate();\n\n  const fetchData = async () => {\n    const users = await axios.get(\"https://jsonplaceholder.typicode.com/photos\", {\n      params: {\n        _limit: 10\n      }\n    });\n    users.data.forEach(item => {\n      const {\n        id,\n        title,\n        url\n      } = item;\n      const payload = {\n        id,\n        title,\n        url\n      };\n      addPhotos(payload);\n    });\n  };\n\n  useEffect(() => {\n    if (photos.length === 0) {\n      fetchData();\n    }\n  }, []);\n  useEffect(() => {\n    setFilterData(photos);\n  }, [photos]);\n\n  const handleSearch = event => {\n    let value = event.target.value.toLowerCase();\n    let result = [];\n    result = filterData.filter(data => {\n      return data.title.search(value) !== -1;\n    });\n    setFilterData(result);\n\n    if (value === \"\") {\n      setFilterData(photos);\n    }\n  };\n\n  const onDeletePhotos = id => {\n    deletePhotos(id);\n    toast.dark(\"Delete successfuly\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row d-flex flex-column\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-10 mx-auto my-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-2 mt-2\",\n          children: (userData === null || userData === void 0 ? void 0 : userData.name) && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg-center\",\n            children: [\"Welcome\", \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              className: \"text-success\",\n              children: [userData.name, \"! \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 17\n            }, this), \"Hi from\", \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              className: \"text-secondary\",\n              children: userData.location\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), userData.role == \"admin\" && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-2 mt-2\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigate(\"/add\"),\n            className: \"btn btn-outline-dark mr-1\",\n            children: \"Add Photos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control mb-2 mt-2\",\n          placeholder: \"Search\",\n          onChange: e => handleSearch(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table table-hover\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"table-header bg-dark text-white\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Id\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Photos\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 17\n              }, this), userData.role == \"admin\" && /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \" Action\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 46\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: filterData.length > 0 ? filterData.map((photos, id) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: id + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: photos.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: photos.url,\n                  className: \"photos\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 21\n              }, this), userData.role == \"admin\" && /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"d-flex flex-row\",\n                children: [/*#__PURE__*/_jsxDEV(Link, {\n                  to: `/edit/${photos.id}`,\n                  className: \"btn btn-sm btn-primary mr-1\",\n                  children: \"Edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => onDeletePhotos(photos.id),\n                  className: \"btn btn-sm btn-danger mr-1\",\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 23\n              }, this)]\n            }, id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 19\n            }, this)) : /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"No photos found\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Home, \"a9oq35tY+rLFhHs+pFUbovgZ49k=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","useContext","GlobalContext","Link","useNavigate","axios","toast","Home","photos","deletePhotos","addPhotos","updatePhotos","userData","filterData","setFilterData","navigate","fetchData","users","get","params","_limit","data","forEach","item","id","title","url","payload","length","handleSearch","event","value","target","toLowerCase","result","filter","search","onDeletePhotos","dark","name","location","role","e","map"],"sources":["/Users/adelanegaraputri/crud-react-redux-hooks-app/src/components/Home/index.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\nimport { GlobalContext } from \"../../Context/GlobalState\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\n\nconst Home = () => {\n  const { photos, deletePhotos, addPhotos, updatePhotos, userData } =\n    useContext(GlobalContext);\n  const [filterData, setFilterData] = useState([]);\n  const navigate = useNavigate();\n  const fetchData = async () => {\n    const users = await axios.get(\n      \"https://jsonplaceholder.typicode.com/photos\",\n      {\n        params: {\n          _limit: 10,\n        },\n      }\n    );\n    users.data.forEach((item) => {\n      const { id, title, url } = item;\n      const payload = {\n        id,\n        title,\n        url,\n      };\n      addPhotos(payload);\n    });\n  };\n\n  useEffect(() => {\n    if (photos.length === 0) {\n      fetchData();\n    }\n  }, []);\n\n  useEffect(() => {\n    setFilterData(photos);\n  }, [photos]);\n\n  const handleSearch = (event) => {\n    let value = event.target.value.toLowerCase();\n    let result = [];\n    result = filterData.filter((data) => {\n      return data.title.search(value) !== -1;\n    });\n    setFilterData(result);\n    if (value === \"\") {\n      setFilterData(photos);\n    }\n  };\n\n  const onDeletePhotos = (id) => {\n    deletePhotos(id);\n    toast.dark(\"Delete successfuly\");\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"row d-flex flex-column\">\n        <div className=\"col-md-10 mx-auto my-4\">\n          <div className=\"mb-2 mt-2\">\n            {userData?.name && (\n              <p className=\"text-lg-center\">\n                Welcome{\" \"}\n                <strong className=\"text-success\">{userData.name}! </strong>\n                Hi from{\" \"}\n                <strong className=\"text-secondary\">{userData.location}</strong>\n              </p>\n            )}\n          </div>\n          {userData.role == \"admin\" && (\n            <div className=\"mb-2 mt-2\">\n              <button\n                onClick={() => navigate(\"/add\")}\n                className=\"btn btn-outline-dark mr-1\"\n              >\n                Add Photos\n              </button>\n            </div>\n          )}\n\n          <input\n            type=\"text\"\n            className=\"form-control mb-2 mt-2\"\n            placeholder=\"Search\"\n            onChange={(e) => handleSearch(e)}\n          />\n          <table className=\"table table-hover\">\n            <thead className=\"table-header bg-dark text-white\">\n              <tr>\n                <th scope=\"col\">Id</th>\n                <th scope=\"col\">Title</th>\n                <th scope=\"col\">Photos</th>\n                {userData.role == \"admin\" && <th scope=\"col\"> Action</th>}\n              </tr>\n            </thead>\n            <tbody>\n              {filterData.length > 0 ? (\n                filterData.map((photos, id) => (\n                  <tr key={id}>\n                    <td>{id + 1}</td>\n                    <td>{photos.title}</td>\n                    <td>\n                      <img src={photos.url} className=\"photos\" />\n                    </td>\n                    {userData.role == \"admin\" && (\n                      <td className=\"d-flex flex-row\">\n                        <Link\n                          to={`/edit/${photos.id}`}\n                          className=\"btn btn-sm btn-primary mr-1\"\n                        >\n                          Edit\n                        </Link>\n                        <button\n                          type=\"button\"\n                          onClick={() => onDeletePhotos(photos.id)}\n                          className=\"btn btn-sm btn-danger mr-1\"\n                        >\n                          Delete\n                        </button>\n                      </td>\n                    )}\n                  </tr>\n                ))\n              ) : (\n                <tr>\n                  <th>No photos found</th>\n                </tr>\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}